from selenium import webdriver
from selenium.webdriver.chrome.options import Options
from selenium.webdriver.common.by import By
import pytest

def test_skillbox_title():
    """Тест для проверки заголовка сайта Skillbox"""
    chrome_options = Options()
    chrome_options.add_argument("--headless")
    chrome_options.add_argument("--no-sandbox")
    chrome_options.add_argument("--disable-dev-shm-usage")

    driver = webdriver.Chrome(options=chrome_options)

    try:
        driver.get("https://skillbox.ru")
        expected_title = "Skillbox — образовательная платформа с онлайн-курсами"
        assert expected_title in driver.title, f"Заголовок не совпадает. Ожидалось: {expected_title}, Получено: {driver.title}"
    finally:
        driver.quit()
        class TestSkillbox:
    """Тесты для сайта Skillbox"""
    
    def setup_method(self):
        """Настройка перед каждым тестом"""
        chrome_options = Options()
        chrome_options.add_argument("--headless")  # Для запуска без GUI
        chrome_options.add_argument("--no-sandbox")
        chrome_options.add_argument("--disable-dev-shm-usage")
        
        self.driver = webdriver.Chrome(options=chrome_options)
        self.driver.implicitly_wait(10)
    
    def teardown_method(self):
        """Очистка после каждого теста"""
        self.driver.quit()
    
    def test_skillbox_title(self):
        """Проверка заголовка сайта Skillbox"""
        self.driver.get("https://skillbox.ru")
        title = self.driver.title
        assert "Skillbox" in title, f"Ожидалось 'Skillbox' в заголовке, но получили: {title}"
    
    def test_skillbox_homepage_loads(self):
        """Тест-заглушка: проверка загрузки главной страницы"""
        self.driver.get("https://skillbox.ru")
        assert self.driver.current_url == "https://skillbox.ru/"
    
    def test_dummy_pass(self):
        """Тест-заглушка который всегда проходит"""
        pass
    
    def test_dummy_fail(self):
        """Тест-заглушка который всегда падает"""
        pytest.skip("Пропущенный тест для демонстрации")